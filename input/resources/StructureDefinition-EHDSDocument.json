{
  "resourceType": "StructureDefinition",
  "id": "EHDSDocument",
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-type-characteristics",
      "valueCode": "can-be-target"
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-type-characteristics",
      "valueCode": "can-be-target"
    }
  ],
  "url": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDocument",
  "version": "0.1.0",
  "name": "EHDSDocument",
  "title": "Document model",
  "status": "draft",
  "date": "2025-08-05T08:51:00+00:00",
  "publisher": "Xt-EHR",
  "contact": [
    {
      "name": "Xt-EHR",
      "telecom": [
        {
          "system": "url",
          "value": "http://Xt-EHR.eu"
        }
      ]
    }
  ],
  "description": "EHDS refined base model for common document data elements, including the common header. Data relevant to document type and its content for administrative and searching purposes.",
  "fhirVersion": "5.0.0",
  "mapping": [
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    }
  ],
  "kind": "logical",
  "abstract": false,
  "type": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDocument",
  "baseDefinition": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDataSet",
  "derivation": "specialization",
  "snapshot": {
    "extension": [
      {
        "url": "http://hl7.org/fhir/tools/StructureDefinition/snapshot-base-version",
        "valueString": "0.1.0"
      }
    ],
    "element": [
      {
        "id": "EHDSDocument",
        "path": "EHDSDocument",
        "short": "Document model",
        "definition": "EHDS refined base model for common document data elements, including the common header. Data relevant to document type and its content for administrative and searching purposes.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Base",
          "min": 0,
          "max": "*"
        },
        "isModifier": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "EHDSDocument.header",
        "path": "EHDSDocument.header",
        "short": "Document header elements",
        "definition": "Common header for all patient-related data",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.subject",
        "path": "EHDSDocument.header.subject",
        "short": "Subject",
        "definition": "Patient/subject information",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.subject",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSPatient"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.identifier",
        "path": "EHDSDocument.header.identifier",
        "short": "Document ID",
        "definition": "Unique identifier of the document",
        "min": 1,
        "max": "*",
        "base": {
          "path": "EHDSDataSet.header.identifier",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Identifier"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.authorship",
        "path": "EHDSDocument.header.authorship",
        "short": "Authorship",
        "definition": "Resource authoring details",
        "min": 1,
        "max": "*",
        "base": {
          "path": "EHDSDataSet.header.authorship",
          "min": 1,
          "max": "*"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.authorship.author[x]",
        "path": "EHDSDocument.header.authorship.author[x]",
        "short": "Author",
        "definition": "Author(s) by whom the resource was/were authored. Multiple authors could be provided.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.authorship.author[x]",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          },
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSOrganisation"
          },
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDevice"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.authorship.datetime",
        "path": "EHDSDocument.header.authorship.datetime",
        "short": "Date and time of authoring/issuing",
        "definition": "Date and time of the issuing the document/resource by its author.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.authorship.datetime",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.lastUpdate",
        "path": "EHDSDocument.header.lastUpdate",
        "short": "Date and time of the last update to the resource",
        "definition": "Date and time of the last update to the document/information",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.lastUpdate",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.status",
        "path": "EHDSDocument.header.status",
        "short": "Status of the resource",
        "definition": "Status of the resource",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.status",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.statusReason[x]",
        "path": "EHDSDocument.header.statusReason[x]",
        "short": "Reason for the current status of the resource.",
        "definition": "Reason for the current status of the resource.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.statusReason[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.language",
        "path": "EHDSDocument.header.language",
        "short": "Language",
        "definition": "Language in which the resource is written. Language is expressed by the IETF language tag.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.language",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "BCP 47"
        }
      },
      {
        "id": "EHDSDocument.header.version",
        "path": "EHDSDocument.header.version",
        "short": "Version",
        "definition": "Business version of the resource.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.version",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSDocument.presentedForm",
        "path": "EHDSDocument.presentedForm",
        "short": "A narrative easy-to-read representation of the full data set, e.g. PDF-version of a document",
        "definition": "A narrative easy-to-read representation of the full data set, e.g. PDF-version of a document",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDataSet.presentedForm",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSAttachment"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.documentType",
        "path": "EHDSDocument.header.documentType",
        "short": "Document type",
        "definition": "Identifies the type of document at hand, e.g. Discharge report.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.documentType",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "LOINC"
        }
      },
      {
        "id": "EHDSDocument.header.documentTitle",
        "path": "EHDSDocument.header.documentTitle",
        "short": "Document title",
        "definition": "Document title, such as Discharge Report, Laboratory Result Report, etc.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.documentTitle",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.documentStatus",
        "path": "EHDSDocument.header.documentStatus",
        "short": "Document status",
        "definition": "The status of the Discharge report. E.g., preliminary, final.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.documentStatus",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "hl7:CompositionStatus"
        }
      },
      {
        "id": "EHDSDocument.header.period",
        "path": "EHDSDocument.header.period",
        "short": "Period",
        "definition": "Time of service that is being documented",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.period",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.attestation",
        "path": "EHDSDocument.header.attestation",
        "short": "Attestation",
        "definition": "Document attestation details",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDocument.header.attestation",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.attestation.attester",
        "path": "EHDSDocument.header.attestation.attester",
        "short": "Attester",
        "definition": "Attester who validated the document. Mulitple attesters could be provided.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.attestation.attester",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.attestation.datetime",
        "path": "EHDSDocument.header.attestation.datetime",
        "short": "DateTime",
        "definition": "Date and time of the approval of the document by Attester.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.attestation.datetime",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.legalAuthentication",
        "path": "EHDSDocument.header.legalAuthentication",
        "short": "Legal authentication",
        "definition": "Document legal authentication",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.legalAuthentication",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.legalAuthentication.legalAuthenticator",
        "path": "EHDSDocument.header.legalAuthentication.legalAuthenticator",
        "short": "Legal authenticator",
        "definition": "The person taking responsibility for the medical content of the document",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.legalAuthentication.legalAuthenticator",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.legalAuthentication.datetime",
        "path": "EHDSDocument.header.legalAuthentication.datetime",
        "short": "DateTime",
        "definition": "Date and time when the document was authorized.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.legalAuthentication.datetime",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.eventType",
        "path": "EHDSDocument.header.eventType",
        "short": "Event type",
        "definition": "Categorization of the event covered by the document (e.g. laboratory study types, imaging study types including modality, etc.). Selection of such tags or labels depends on the use case and agreement betwen data sharing parties. This meta-data element serves primarily for searching and filtering purpuses.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDocument.header.eventType",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "LOINC, SNOMED CT, dicom-cid-33-Modality"
        }
      },
      {
        "id": "EHDSDocument.header.authorSpecialty",
        "path": "EHDSDocument.header.authorSpecialty",
        "short": "Specialty",
        "definition": "Additional details about where the content was created (e.g. clinical specialty)",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDocument.header.authorSpecialty",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "SNOMED CT"
        }
      },
      {
        "id": "EHDSDocument.header.custodian",
        "path": "EHDSDocument.header.custodian",
        "short": "Document custodian",
        "definition": "Organisation that is in charge of maintaining the document/report.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.custodian",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSOrganisation"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.documentFormat",
        "path": "EHDSDocument.header.documentFormat",
        "short": "Document format",
        "definition": "An identifier of the document constraints, encoding, structure, and template that the document conforms to beyond the base format indicated in the mimeType.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.documentFormat",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "HL7 Document Format Codes"
        }
      },
      {
        "id": "EHDSDocument.header.confidentiality",
        "path": "EHDSDocument.header.confidentiality",
        "short": "Confidentiality",
        "definition": "Level of confidentiality of the document. Implicit value is normal.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDocument.header.confidentiality",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "hl7:Confidentiality"
        }
      },
      {
        "id": "EHDSDocument.knowledgeResources",
        "path": "EHDSDocument.knowledgeResources",
        "short": "Related documents and information sources",
        "definition": "Related documents and information sources",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDocument.knowledgeResources",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.knowledgeResources.externalReference",
        "path": "EHDSDocument.knowledgeResources.externalReference",
        "short": "...",
        "definition": "...",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDocument.knowledgeResources.externalReference",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "RelatedArtifact"
          }
        ]
      },
      {
        "id": "EHDSDocument.knowledgeResources.relatedTo",
        "path": "EHDSDocument.knowledgeResources.relatedTo",
        "short": "...",
        "definition": "...",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDocument.knowledgeResources.relatedTo",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Reference"
          }
        ]
      }
    ]
  },
  "differential": {
    "element": [
      {
        "id": "EHDSDocument",
        "path": "EHDSDocument",
        "short": "Document model",
        "definition": "EHDS refined base model for common document data elements, including the common header. Data relevant to document type and its content for administrative and searching purposes."
      },
      {
        "id": "EHDSDocument.header",
        "path": "EHDSDocument.header",
        "short": "Document header elements"
      },
      {
        "id": "EHDSDocument.header.identifier",
        "path": "EHDSDocument.header.identifier",
        "short": "Document ID",
        "definition": "Unique identifier of the document",
        "min": 1
      },
      {
        "id": "EHDSDocument.header.documentType",
        "path": "EHDSDocument.header.documentType",
        "short": "Document type",
        "definition": "Identifies the type of document at hand, e.g. Discharge report.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "LOINC"
        }
      },
      {
        "id": "EHDSDocument.header.documentTitle",
        "path": "EHDSDocument.header.documentTitle",
        "short": "Document title",
        "definition": "Document title, such as Discharge Report, Laboratory Result Report, etc.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.documentStatus",
        "path": "EHDSDocument.header.documentStatus",
        "short": "Document status",
        "definition": "The status of the Discharge report. E.g., preliminary, final.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "hl7:CompositionStatus"
        }
      },
      {
        "id": "EHDSDocument.header.period",
        "path": "EHDSDocument.header.period",
        "short": "Period",
        "definition": "Time of service that is being documented",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.attestation",
        "path": "EHDSDocument.header.attestation",
        "short": "Attestation",
        "definition": "Document attestation details",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.attestation.attester",
        "path": "EHDSDocument.header.attestation.attester",
        "short": "Attester",
        "definition": "Attester who validated the document. Mulitple attesters could be provided.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.attestation.datetime",
        "path": "EHDSDocument.header.attestation.datetime",
        "short": "DateTime",
        "definition": "Date and time of the approval of the document by Attester.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.legalAuthentication",
        "path": "EHDSDocument.header.legalAuthentication",
        "short": "Legal authentication",
        "definition": "Document legal authentication",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.legalAuthentication.legalAuthenticator",
        "path": "EHDSDocument.header.legalAuthentication.legalAuthenticator",
        "short": "Legal authenticator",
        "definition": "The person taking responsibility for the medical content of the document",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.legalAuthentication.datetime",
        "path": "EHDSDocument.header.legalAuthentication.datetime",
        "short": "DateTime",
        "definition": "Date and time when the document was authorized.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.eventType",
        "path": "EHDSDocument.header.eventType",
        "short": "Event type",
        "definition": "Categorization of the event covered by the document (e.g. laboratory study types, imaging study types including modality, etc.). Selection of such tags or labels depends on the use case and agreement betwen data sharing parties. This meta-data element serves primarily for searching and filtering purpuses.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "LOINC, SNOMED CT, dicom-cid-33-Modality"
        }
      },
      {
        "id": "EHDSDocument.header.authorSpecialty",
        "path": "EHDSDocument.header.authorSpecialty",
        "short": "Specialty",
        "definition": "Additional details about where the content was created (e.g. clinical specialty)",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "SNOMED CT"
        }
      },
      {
        "id": "EHDSDocument.header.custodian",
        "path": "EHDSDocument.header.custodian",
        "short": "Document custodian",
        "definition": "Organisation that is in charge of maintaining the document/report.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSOrganisation"
          }
        ]
      },
      {
        "id": "EHDSDocument.header.documentFormat",
        "path": "EHDSDocument.header.documentFormat",
        "short": "Document format",
        "definition": "An identifier of the document constraints, encoding, structure, and template that the document conforms to beyond the base format indicated in the mimeType.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "HL7 Document Format Codes"
        }
      },
      {
        "id": "EHDSDocument.header.confidentiality",
        "path": "EHDSDocument.header.confidentiality",
        "short": "Confidentiality",
        "definition": "Level of confidentiality of the document. Implicit value is normal.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "hl7:Confidentiality"
        }
      },
      {
        "id": "EHDSDocument.knowledgeResources",
        "path": "EHDSDocument.knowledgeResources",
        "short": "Related documents and information sources",
        "definition": "Related documents and information sources",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSDocument.knowledgeResources.externalReference",
        "path": "EHDSDocument.knowledgeResources.externalReference",
        "short": "...",
        "definition": "...",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "RelatedArtifact"
          }
        ]
      },
      {
        "id": "EHDSDocument.knowledgeResources.relatedTo",
        "path": "EHDSDocument.knowledgeResources.relatedTo",
        "short": "...",
        "definition": "...",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Reference"
          }
        ]
      }
    ]
  }
}
