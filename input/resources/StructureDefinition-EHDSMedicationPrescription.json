{
  "resourceType": "StructureDefinition",
  "id": "EHDSMedicationPrescription",
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-type-characteristics",
      "valueCode": "can-be-target"
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-type-characteristics",
      "valueCode": "can-be-target"
    }
  ],
  "url": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSMedicationPrescription",
  "version": "0.1.0",
  "name": "EHDSMedicationPrescription",
  "title": "Medication prescription model",
  "status": "draft",
  "date": "2025-08-05T08:51:00+00:00",
  "publisher": "Xt-EHR",
  "contact": [
    {
      "name": "Xt-EHR",
      "telecom": [
        {
          "system": "url",
          "value": "http://Xt-EHR.eu"
        }
      ]
    }
  ],
  "description": "Logical model for medication prescription. A prescription contains one or more prescription items.",
  "fhirVersion": "5.0.0",
  "mapping": [
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    }
  ],
  "kind": "logical",
  "abstract": false,
  "type": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSMedicationPrescription",
  "baseDefinition": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDataSet",
  "derivation": "specialization",
  "snapshot": {
    "extension": [
      {
        "url": "http://hl7.org/fhir/tools/StructureDefinition/snapshot-base-version",
        "valueString": "0.1.0"
      }
    ],
    "element": [
      {
        "id": "EHDSMedicationPrescription",
        "path": "EHDSMedicationPrescription",
        "short": "Medication prescription model",
        "definition": "Logical model for medication prescription. A prescription contains one or more prescription items.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Base",
          "min": 0,
          "max": "*"
        },
        "isModifier": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header",
        "path": "EHDSMedicationPrescription.header",
        "short": "Prescription header",
        "definition": "Prescription header data elements",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.subject",
        "path": "EHDSMedicationPrescription.header.subject",
        "short": "The person for whom the medication is prescribed/ordered. [Used for searching]",
        "definition": "Patient/subject information",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.subject",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSPatient"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.identifier",
        "path": "EHDSMedicationPrescription.header.identifier",
        "short": "Business identifier(s) for the prescription. [Used for searching]",
        "definition": "Business identifier for the object",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDataSet.header.identifier",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Identifier"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.authorship",
        "path": "EHDSMedicationPrescription.header.authorship",
        "short": "Authorship",
        "definition": "Resource authoring details",
        "min": 1,
        "max": "*",
        "base": {
          "path": "EHDSDataSet.header.authorship",
          "min": 1,
          "max": "*"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.authorship.author[x]",
        "path": "EHDSMedicationPrescription.header.authorship.author[x]",
        "short": "The prescriber, the person who made the prescription, and who takes the responsibility of the treatment. [Used for searching]",
        "definition": "Author(s) by whom the resource was/were authored. Multiple authors could be provided.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.authorship.author[x]",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          },
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSOrganisation"
          },
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDevice"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.authorship.datetime",
        "path": "EHDSMedicationPrescription.header.authorship.datetime",
        "short": "Time of issuing (signing) the prescription by health care professional. [Used for searching]",
        "definition": "Date and time of the issuing the document/resource by its author.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.authorship.datetime",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.lastUpdate",
        "path": "EHDSMedicationPrescription.header.lastUpdate",
        "short": "Date and time of the last update to the resource",
        "definition": "Date and time of the last update to the document/information",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.lastUpdate",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.status",
        "path": "EHDSMedicationPrescription.header.status",
        "short": "Status of the prescription, this should not be status of treatment. For multi-item prescription, the status of prescription is often related to statuses of single lines. In case of single-item prescriptions, the status for line is usually the status of prescription. [Used for searching]",
        "definition": "Status of the resource",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.status",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.statusReason[x]",
        "path": "EHDSMedicationPrescription.header.statusReason[x]",
        "short": "Reason for the current status of prescription, for example the reason why the prescription was made invalid or why the prescription was changed from previous",
        "definition": "Reason for the current status of the resource.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.statusReason[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.language",
        "path": "EHDSMedicationPrescription.header.language",
        "short": "Language",
        "definition": "Language in which the resource is written. Language is expressed by the IETF language tag.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.language",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "BCP 47"
        }
      },
      {
        "id": "EHDSMedicationPrescription.header.version",
        "path": "EHDSMedicationPrescription.header.version",
        "short": "Version",
        "definition": "Business version of the resource.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSDataSet.header.version",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.presentedForm",
        "path": "EHDSMedicationPrescription.presentedForm",
        "short": "Entire prescription as issued. Various formats could be provided, PDF format is recommended.",
        "definition": "A narrative easy-to-read representation of the full data set, e.g. PDF-version of a document",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSDataSet.presentedForm",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSAttachment"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.recorder",
        "path": "EHDSMedicationPrescription.header.recorder",
        "short": "The recorder of the prescription/draft in the information system",
        "definition": "The recorder of the prescription/draft in the information system",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.header.recorder",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.recordingDate",
        "path": "EHDSMedicationPrescription.header.recordingDate",
        "short": "Time of authoring the prescription/draft in the information system",
        "definition": "Time of authoring the prescription/draft in the information system",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.header.recordingDate",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.validFrom",
        "path": "EHDSMedicationPrescription.header.validFrom",
        "short": "Effective date of the prescription. The prescription is not dispensable before this date. In most cases this information repeats issueDate. [Used for searching]",
        "definition": "Effective date of the prescription. The prescription is not dispensable before this date. In most cases this information repeats issueDate. [Used for searching]",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.header.validFrom",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.validUntil",
        "path": "EHDSMedicationPrescription.header.validUntil",
        "short": "The validity period end date. The prescription is not dispensable after this date. [Used for searching]",
        "definition": "The validity period end date. The prescription is not dispensable after this date. [Used for searching]",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.header.validUntil",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.comment",
        "path": "EHDSMedicationPrescription.comment",
        "short": "Additional information or comments",
        "definition": "Additional information or comments",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.comment",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem",
        "path": "EHDSMedicationPrescription.prescriptionItem",
        "short": "Prescription line for one medication. In many countries, only one item is allowed. In case multiple medications are allowed, all lines need to be authored together.",
        "definition": "Prescription line for one medication. In many countries, only one item is allowed. In case multiple medications are allowed, all lines need to be authored together.",
        "min": 1,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem",
          "min": 1,
          "max": "*"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.identifier",
        "path": "EHDSMedicationPrescription.prescriptionItem.identifier",
        "short": "Identifier for a single item on prescription, if exists. In case of single-item prescription, this identifier is typically the same as prescription identifier.",
        "definition": "Identifier for a single item on prescription, if exists. In case of single-item prescription, this identifier is typically the same as prescription identifier.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.identifier",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Identifier"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.category",
        "path": "EHDSMedicationPrescription.prescriptionItem.category",
        "short": "Category or categories of prescription. For example type of reimbursement, or type of prescription (e.g. hospital, private, etc).",
        "definition": "Category or categories of prescription. For example type of reimbursement, or type of prescription (e.g. hospital, private, etc).",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.category",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.medication",
        "path": "EHDSMedicationPrescription.prescriptionItem.medication",
        "short": "Prescribed product, branded, generic, virtual, extemporal, etc",
        "definition": "Prescribed product, branded, generic, virtual, extemporal, etc",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.medication",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSMedication"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.indication[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.indication[x]",
        "short": "Reason for the prescription (typically diagnosis, or a procedure)",
        "definition": "Reason for the prescription (typically diagnosis, or a procedure)",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.indication[x]",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSCondition"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.indicationText",
        "path": "EHDSMedicationPrescription.prescriptionItem.indicationText",
        "short": "Reason for the prescription in textual form. This might not be allowed by some implementations.",
        "definition": "Reason for the prescription in textual form. This might not be allowed by some implementations.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.indicationText",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.prescriptionIntent",
        "path": "EHDSMedicationPrescription.prescriptionItem.prescriptionIntent",
        "short": "Intent of the prescription - prophylaxis, treatment, anesthesia, etc",
        "definition": "Intent of the prescription - prophylaxis, treatment, anesthesia, etc",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.prescriptionIntent",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.treatmentPeriod",
        "path": "EHDSMedicationPrescription.prescriptionItem.treatmentPeriod",
        "short": "Period over which the medication is to be taken (in case of multiple dosaging schemes, this would be the overall period of all dosages.)",
        "definition": "Period over which the medication is to be taken (in case of multiple dosaging schemes, this would be the overall period of all dosages.)",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.treatmentPeriod",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.quantityPrescribed",
        "path": "EHDSMedicationPrescription.prescriptionItem.quantityPrescribed",
        "short": "Overall quantity of prescribed product (e.g number of packages or number of tablets).",
        "definition": "Overall quantity of prescribed product (e.g number of packages or number of tablets).",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.quantityPrescribed",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Quantity"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "UCUM, EDQM Standard Terms"
        }
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.dosageInstructions",
        "path": "EHDSMedicationPrescription.prescriptionItem.dosageInstructions",
        "short": "Dosaging and administration instructions",
        "definition": "Dosaging and administration instructions",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.dosageInstructions",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDosaging"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.preparationInstructions",
        "path": "EHDSMedicationPrescription.prescriptionItem.preparationInstructions",
        "short": "Additional instructions about preparation or dispense",
        "definition": "Additional instructions about preparation or dispense",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.preparationInstructions",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.substitution",
        "path": "EHDSMedicationPrescription.prescriptionItem.substitution",
        "short": "Whether and which type of substitution is allowed for this medication treatment item",
        "definition": "Whether and which type of substitution is allowed for this medication treatment item",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.substitution",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.substitution.allowed[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.substitution.allowed[x]",
        "short": "Whether and to what extent substitution is allowed.",
        "definition": "Whether and to what extent substitution is allowed.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.substitution.allowed[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "boolean"
          },
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.substitution.reason[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.substitution.reason[x]",
        "short": "Reason for the substitution requirement (e.g. Biological product, Patient allergic to an excipient in alternative products, etc)",
        "definition": "Reason for the substitution requirement (e.g. Biological product, Patient allergic to an excipient in alternative products, etc)",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.substitution.reason[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.status",
        "path": "EHDSMedicationPrescription.prescriptionItem.status",
        "short": "Status of a single item of a multi-item prescription. In case of single-item prescriptions, the status of prescription has the same meaning as the status of the item.",
        "definition": "Status of a single item of a multi-item prescription. In case of single-item prescriptions, the status of prescription has the same meaning as the status of the item.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.status",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.statusReason[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.statusReason[x]",
        "short": "Reason for the current status of prescription, for example the reason why the prescription was made invalid or why the prescription was changed from previous",
        "definition": "Reason for the current status of prescription, for example the reason why the prescription was made invalid or why the prescription was changed from previous",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.statusReason[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.repeatsAllowed",
        "path": "EHDSMedicationPrescription.prescriptionItem.repeatsAllowed",
        "short": "Number of refills authorized",
        "definition": "How many times the prescription item can be dispensed in addition to the original dispense.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.repeatsAllowed",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "integer"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.minimumDispenseInterval",
        "path": "EHDSMedicationPrescription.prescriptionItem.minimumDispenseInterval",
        "short": "Minimum Dispense Interval",
        "definition": "If a prescription allows for repeated dispensations, the interval between dispensations shall be stated here.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.minimumDispenseInterval",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Quantity"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.offLabel",
        "path": "EHDSMedicationPrescription.prescriptionItem.offLabel",
        "short": "Indicates that the prescriber has knowingly prescribed the medication for an indication, age group, dosage, or route of administration that is not approved by the regulatory agencies and is not mentioned in the prescribing information for the drug",
        "definition": "Indicates that the prescriber has knowingly prescribed the medication for an indication, age group, dosage, or route of administration that is not approved by the regulatory agencies and is not mentioned in the prescribing information for the drug",
        "min": 0,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.offLabel",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.offLabel.isOffLabelUse",
        "path": "EHDSMedicationPrescription.prescriptionItem.offLabel.isOffLabelUse",
        "short": "Indicates off-label use. Must be 'true' when .reason is provided.",
        "definition": "Indicates off-label use. Must be 'true' when .reason is provided.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.offLabel.isOffLabelUse",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "boolean"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.offLabel.reason[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.offLabel.reason[x]",
        "short": "Reason or related clarification for off-label use",
        "definition": "Reason or related clarification for off-label use",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.offLabel.reason[x]",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.comment",
        "path": "EHDSMedicationPrescription.prescriptionItem.comment",
        "short": "Additional information or comments",
        "definition": "Additional information or comments",
        "min": 0,
        "max": "*",
        "base": {
          "path": "EHDSMedicationPrescription.prescriptionItem.comment",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "string"
          }
        ]
      }
    ]
  },
  "differential": {
    "element": [
      {
        "id": "EHDSMedicationPrescription",
        "path": "EHDSMedicationPrescription",
        "short": "Medication prescription model",
        "definition": "Logical model for medication prescription. A prescription contains one or more prescription items."
      },
      {
        "id": "EHDSMedicationPrescription.header",
        "path": "EHDSMedicationPrescription.header",
        "short": "Prescription header",
        "definition": "Prescription header data elements"
      },
      {
        "id": "EHDSMedicationPrescription.header.subject",
        "path": "EHDSMedicationPrescription.header.subject",
        "short": "The person for whom the medication is prescribed/ordered. [Used for searching]"
      },
      {
        "id": "EHDSMedicationPrescription.header.identifier",
        "path": "EHDSMedicationPrescription.header.identifier",
        "short": "Business identifier(s) for the prescription. [Used for searching]"
      },
      {
        "id": "EHDSMedicationPrescription.header.authorship.author[x]",
        "path": "EHDSMedicationPrescription.header.authorship.author[x]",
        "short": "The prescriber, the person who made the prescription, and who takes the responsibility of the treatment. [Used for searching]"
      },
      {
        "id": "EHDSMedicationPrescription.header.authorship.datetime",
        "path": "EHDSMedicationPrescription.header.authorship.datetime",
        "short": "Time of issuing (signing) the prescription by health care professional. [Used for searching]"
      },
      {
        "id": "EHDSMedicationPrescription.header.status",
        "path": "EHDSMedicationPrescription.header.status",
        "short": "Status of the prescription, this should not be status of treatment. For multi-item prescription, the status of prescription is often related to statuses of single lines. In case of single-item prescriptions, the status for line is usually the status of prescription. [Used for searching]"
      },
      {
        "id": "EHDSMedicationPrescription.header.statusReason[x]",
        "path": "EHDSMedicationPrescription.header.statusReason[x]",
        "short": "Reason for the current status of prescription, for example the reason why the prescription was made invalid or why the prescription was changed from previous"
      },
      {
        "id": "EHDSMedicationPrescription.header.recorder",
        "path": "EHDSMedicationPrescription.header.recorder",
        "short": "The recorder of the prescription/draft in the information system",
        "definition": "The recorder of the prescription/draft in the information system",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSHealthProfessional"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.recordingDate",
        "path": "EHDSMedicationPrescription.header.recordingDate",
        "short": "Time of authoring the prescription/draft in the information system",
        "definition": "Time of authoring the prescription/draft in the information system",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.validFrom",
        "path": "EHDSMedicationPrescription.header.validFrom",
        "short": "Effective date of the prescription. The prescription is not dispensable before this date. In most cases this information repeats issueDate. [Used for searching]",
        "definition": "Effective date of the prescription. The prescription is not dispensable before this date. In most cases this information repeats issueDate. [Used for searching]",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.header.validUntil",
        "path": "EHDSMedicationPrescription.header.validUntil",
        "short": "The validity period end date. The prescription is not dispensable after this date. [Used for searching]",
        "definition": "The validity period end date. The prescription is not dispensable after this date. [Used for searching]",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.presentedForm",
        "path": "EHDSMedicationPrescription.presentedForm",
        "short": "Entire prescription as issued. Various formats could be provided, PDF format is recommended."
      },
      {
        "id": "EHDSMedicationPrescription.comment",
        "path": "EHDSMedicationPrescription.comment",
        "short": "Additional information or comments",
        "definition": "Additional information or comments",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem",
        "path": "EHDSMedicationPrescription.prescriptionItem",
        "short": "Prescription line for one medication. In many countries, only one item is allowed. In case multiple medications are allowed, all lines need to be authored together.",
        "definition": "Prescription line for one medication. In many countries, only one item is allowed. In case multiple medications are allowed, all lines need to be authored together.",
        "min": 1,
        "max": "*",
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.identifier",
        "path": "EHDSMedicationPrescription.prescriptionItem.identifier",
        "short": "Identifier for a single item on prescription, if exists. In case of single-item prescription, this identifier is typically the same as prescription identifier.",
        "definition": "Identifier for a single item on prescription, if exists. In case of single-item prescription, this identifier is typically the same as prescription identifier.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Identifier"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.category",
        "path": "EHDSMedicationPrescription.prescriptionItem.category",
        "short": "Category or categories of prescription. For example type of reimbursement, or type of prescription (e.g. hospital, private, etc).",
        "definition": "Category or categories of prescription. For example type of reimbursement, or type of prescription (e.g. hospital, private, etc).",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.medication",
        "path": "EHDSMedicationPrescription.prescriptionItem.medication",
        "short": "Prescribed product, branded, generic, virtual, extemporal, etc",
        "definition": "Prescribed product, branded, generic, virtual, extemporal, etc",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSMedication"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.indication[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.indication[x]",
        "short": "Reason for the prescription (typically diagnosis, or a procedure)",
        "definition": "Reason for the prescription (typically diagnosis, or a procedure)",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSCondition"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.indicationText",
        "path": "EHDSMedicationPrescription.prescriptionItem.indicationText",
        "short": "Reason for the prescription in textual form. This might not be allowed by some implementations.",
        "definition": "Reason for the prescription in textual form. This might not be allowed by some implementations.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.prescriptionIntent",
        "path": "EHDSMedicationPrescription.prescriptionItem.prescriptionIntent",
        "short": "Intent of the prescription - prophylaxis, treatment, anesthesia, etc",
        "definition": "Intent of the prescription - prophylaxis, treatment, anesthesia, etc",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.treatmentPeriod",
        "path": "EHDSMedicationPrescription.prescriptionItem.treatmentPeriod",
        "short": "Period over which the medication is to be taken (in case of multiple dosaging schemes, this would be the overall period of all dosages.)",
        "definition": "Period over which the medication is to be taken (in case of multiple dosaging schemes, this would be the overall period of all dosages.)",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.quantityPrescribed",
        "path": "EHDSMedicationPrescription.prescriptionItem.quantityPrescribed",
        "short": "Overall quantity of prescribed product (e.g number of packages or number of tablets).",
        "definition": "Overall quantity of prescribed product (e.g number of packages or number of tablets).",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity"
          }
        ],
        "binding": {
          "strength": "preferred",
          "description": "UCUM, EDQM Standard Terms"
        }
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.dosageInstructions",
        "path": "EHDSMedicationPrescription.prescriptionItem.dosageInstructions",
        "short": "Dosaging and administration instructions",
        "definition": "Dosaging and administration instructions",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSDosaging"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.preparationInstructions",
        "path": "EHDSMedicationPrescription.prescriptionItem.preparationInstructions",
        "short": "Additional instructions about preparation or dispense",
        "definition": "Additional instructions about preparation or dispense",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.substitution",
        "path": "EHDSMedicationPrescription.prescriptionItem.substitution",
        "short": "Whether and which type of substitution is allowed for this medication treatment item",
        "definition": "Whether and which type of substitution is allowed for this medication treatment item",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.substitution.allowed[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.substitution.allowed[x]",
        "short": "Whether and to what extent substitution is allowed.",
        "definition": "Whether and to what extent substitution is allowed.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          },
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.substitution.reason[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.substitution.reason[x]",
        "short": "Reason for the substitution requirement (e.g. Biological product, Patient allergic to an excipient in alternative products, etc)",
        "definition": "Reason for the substitution requirement (e.g. Biological product, Patient allergic to an excipient in alternative products, etc)",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.status",
        "path": "EHDSMedicationPrescription.prescriptionItem.status",
        "short": "Status of a single item of a multi-item prescription. In case of single-item prescriptions, the status of prescription has the same meaning as the status of the item.",
        "definition": "Status of a single item of a multi-item prescription. In case of single-item prescriptions, the status of prescription has the same meaning as the status of the item.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.statusReason[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.statusReason[x]",
        "short": "Reason for the current status of prescription, for example the reason why the prescription was made invalid or why the prescription was changed from previous",
        "definition": "Reason for the current status of prescription, for example the reason why the prescription was made invalid or why the prescription was changed from previous",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.repeatsAllowed",
        "path": "EHDSMedicationPrescription.prescriptionItem.repeatsAllowed",
        "short": "Number of refills authorized",
        "definition": "How many times the prescription item can be dispensed in addition to the original dispense.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "integer"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.minimumDispenseInterval",
        "path": "EHDSMedicationPrescription.prescriptionItem.minimumDispenseInterval",
        "short": "Minimum Dispense Interval",
        "definition": "If a prescription allows for repeated dispensations, the interval between dispensations shall be stated here.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.offLabel",
        "path": "EHDSMedicationPrescription.prescriptionItem.offLabel",
        "short": "Indicates that the prescriber has knowingly prescribed the medication for an indication, age group, dosage, or route of administration that is not approved by the regulatory agencies and is not mentioned in the prescribing information for the drug",
        "definition": "Indicates that the prescriber has knowingly prescribed the medication for an indication, age group, dosage, or route of administration that is not approved by the regulatory agencies and is not mentioned in the prescribing information for the drug",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Base"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.offLabel.isOffLabelUse",
        "path": "EHDSMedicationPrescription.prescriptionItem.offLabel.isOffLabelUse",
        "short": "Indicates off-label use. Must be 'true' when .reason is provided.",
        "definition": "Indicates off-label use. Must be 'true' when .reason is provided.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.offLabel.reason[x]",
        "path": "EHDSMedicationPrescription.prescriptionItem.offLabel.reason[x]",
        "short": "Reason or related clarification for off-label use",
        "definition": "Reason or related clarification for off-label use",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "CodeableConcept"
          },
          {
            "code": "string"
          }
        ]
      },
      {
        "id": "EHDSMedicationPrescription.prescriptionItem.comment",
        "path": "EHDSMedicationPrescription.prescriptionItem.comment",
        "short": "Additional information or comments",
        "definition": "Additional information or comments",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "string"
          }
        ]
      }
    ]
  }
}
